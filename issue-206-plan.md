# Issue 206 実装計画（TailwindCSS/DaisyUI/Animation）

## 意図の理解
- Issue #206 は、温かみ・非威圧感・なめらかさという既存トーンを保ちつつ、TailwindCSS + DaisyUI + 適度なアニメーションで統一感のあるデザインシステムを構築する方針を具体化することが目的。
- 既存の Markdown 本文とサイト構成を尊重し、段階移行でデザインを整える必要がある。

## 第三者視点の所感（専門家としての判断）
- デザイン統一が目的であっても、過度なライブラリ依存やコンポーネント置換は長期保守のリスクになる。段階導入と範囲限定が妥当。
- アニメーションはアクセシビリティと疲労の観点で最小限にすべき。派手さより「安心感・穏やかさ」を重視するのが正しい判断。
- DaisyUI のテーマ導入は速いが、テーマの決定と配色の微調整に時間がかかる。ここを軽視すると全体のトーンが崩れる。

## 問題点の洗い出し（重要度順）
- High: DaisyUI/Tailwind 導入が既存 CSS と競合し、意図しない崩れが起きる可能性。
- High: アニメーション追加により読みやすさや集中が損なわれるリスク（特に motion-sensitive ユーザー）。
- Medium: Markdown 本文のスタイル移行が不十分だと、ページごとの見た目のばらつきが残る。
- Medium: カラーテーマ設計が抽象的なまま実装に入ると、結局「普通のUI」に見えてしまう。
- Low: ネットワークグラフ等の動的要素でパフォーマンス低下やちらつきが出る可能性。

## リーダブルコードと禅の精神の確認
- 既存 CSS と Tailwind/DaisyUI の責務を明確に分離し、読み替え可能な構造にする。
- 単一責務と最小差分。大きな置き換えよりも、小さく正しく進める。
- 「必要最小限の抽象化」と「見通しの良さ」を優先し、複雑なテーマ拡張や過剰なユーティリティは避ける。

## 実装方針（シンプルで分割された方法）
1. TailwindCSS + DaisyUI を導入し、テーマを 1 本に固定してベース配色を確定する。
2. グローバル CSS の `:root` カラー変数と DaisyUI のテーマ変数を整合させる。
3. 影・角丸・余白の共通ルールを Tailwind で定義し、主要レイアウト（ヘッダ、ヒーロー、カード）へ適用。
4. Markdown 本文は現行スタイルを維持しつつ、Tailwind Typography を段階導入する。
5. アニメーションは motion-safe のみを前提に、最小限の keyframes を Tailwind 拡張に追加。
6. NetworkGraph 等の動的要素に対しては、微小な視覚効果のみ追加し、性能測定を行う。

## TDD 前提の実装計画
### 1) テストを先に書く（失敗を確認）
- DaisyUI テーマ適用: `data-theme` が期待のカラートークンになることを確認するテスト。
- レイアウトの基本崩れ検知: `navbar`/`hero`/`card` に期待クラスが付与されることのテスト。
- Markdown 本文: 従来の `.blog` ルールが残りつつ Tailwind Typography が適用されることのテスト。
- アニメーション: `motion-safe` が付与されていることと、`prefers-reduced-motion` で無効化されることのテスト。
- NetworkGraph: 微細アニメーションの追加後もフレームレート低下がないことを簡易計測するテスト（必要なら計測ログ）。

### 2) 失敗の確認
- 追加したテストが現状で失敗することを確認し、現状の差分とリスクを明確化。

### 3) 実装
- テーマ設定と Tailwind 設定の追加。
- Layout/Hero/Card のクラス置換や簡易ラッパーを追加。
- Markdown 本文は段階移行のため、現在の CSS との共存を維持。
- アニメーションは keyframes を少数定義し、影・リンク・ヒーローに限定適用。

### 4) 成功の確認
- 追加テストが全て通ることを確認。
- `npm run dev` で主要ページを手動確認し、色・余白・アニメーションの違和感を洗い出す。
- `npm run build` でビルド時の feed 生成や CSS 最適化に問題がないことを確認。

## 実施順序（最短距離）
1. Tailwind/DaisyUI 導入とテーマ設計
2. レイアウト（Layout/Hero/Card）の置換
3. Markdown 本文スタイルの段階移行
4. アニメーション定義と適用
5. NetworkGraph の微細演出と性能確認

## 成果物
- 実装・テスト・検証までの具体計画（本ファイル）
